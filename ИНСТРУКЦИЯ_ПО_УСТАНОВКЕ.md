# Инструкция по установке и запуску программы

## Шаг 1: Установка Python

Убедитесь, что у вас установлен Python 3.8 или выше.

Проверка версии:
```bash
python3 --version
```

## Шаг 2: Установка зависимостей

Откройте терминал в папке проекта и выполните:

```bash
pip3 install -r requirements.txt
```

Или установите пакеты вручную:
```bash
pip3 install numpy pandas scikit-learn
```

## Шаг 3: Запуск программы

### Базовый запуск (пример с тестовыми данными):

```bash
python3 composite_selector.py
```

### Использование в своем коде:

```python
from composite_selector import CompositeSelector, PatientData

# Создание селектора
selector = CompositeSelector()

# Данные пациента
patient = PatientData(
    apparatus="Synapsys",  # или "Kolibri"
    masseter_right_chewing=350.5,
    masseter_left_chewing=339.25,
    temporalis_right_chewing=243.25,
    temporalis_left_chewing=234.8,
    masseter_right_max_clench=359.7,
    masseter_left_max_clench=351.25,
    temporalis_right_max_clench=274.8,
    temporalis_left_max_clench=248.45,
    occlusion_anomaly_type="аномалия прикуса",
    mvc_hyperfunction_percent=25.0,
    mvc_duration_sec_per_min=3.0
)

# Выбор композита
results = selector.select_composite(patient, top_n=3)

# Вывод результатов
for i, (composite, score, justification) in enumerate(results, 1):
    print(f"Вариант {i}: {composite['name']}")
    print(f"Оценка: {score:.3f}")
    print(f"Обоснование: {justification['reasons']}")
```

## Шаг 4: Настройка данных

### Добавление новых композитов

Отредактируйте файл `База_композитов.json` и добавьте новый композит в массив `composites`:

```json
{
  "name": "НОВЫЙ_КОМПОЗИТ",
  "viscosity": "high",
  "polymerization_shrinkage_percent": 2.0,
  "microhardness_KHN": 75.0,
  "filler_content_percent": 80,
  "wear_resistance": "high",
  "depth_of_cure_mm": 4.5,
  "matrix_type": "methacrylate",
  "suitable_for_occlusal": true,
  "requires_capping": false,
  "category": "high_viscosity_bulk_fill",
  "notes": "Описание композита"
}
```

## Структура проекта

```
AI Double/
├── composite_selector.py          # Основная программа
├── Код_нормализации_ЭМГ.py        # Модуль нормализации ЭМГ
├── База_композитов.json           # База данных композитов
├── requirements.txt               # Зависимости Python
├── ИНСТРУКЦИЯ_ПО_УСТАНОВКЕ.md    # Эта инструкция
└── ... (другие документы)
```

## Возможные проблемы

### Проблема: "ModuleNotFoundError: No module named 'pandas'"

**Решение:** Установите зависимости:
```bash
pip3 install -r requirements.txt
```

### Проблема: "FileNotFoundError: База_композитов.json"

**Решение:** Убедитесь, что файл `База_композитов.json` находится в той же папке, что и `composite_selector.py`

### Проблема: Ошибка кодировки при чтении JSON

**Решение:** Убедитесь, что файл сохранен в кодировке UTF-8

## Следующие шаги для разработки

1. **Сбор клинических данных** - для обучения модели машинного обучения
2. **Создание веб-интерфейса** - для удобного использования врачами
3. **Интеграция с ЭМГ-аппаратами** - автоматический импорт данных
4. **Валидация модели** - тестирование на реальных клинических случаях
5. **Улучшение алгоритма** - добавление машинного обучения на основе собранных данных

## Контакты и поддержка

При возникновении проблем или вопросов обращайтесь к разработчикам проекта.

