#!/bin/bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—É—à –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ GitHub (—Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

cd "/Users/egorryzhkov/Desktop/AI Double"

echo "üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—É—à –∏–∑–º–µ–Ω–µ–Ω–∏–π..."

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
if git diff-index --quiet HEAD -- 2>/dev/null; then
    echo "‚úÖ –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –∫–æ–º–º–∏—Ç–∞"
else
    echo "üìù –ö–æ–º–º–∏—Ç–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è..."
    git add -A
    git commit -m "Auto-update: $(date '+%Y-%m-%d %H:%M:%S')" 2>/dev/null || echo "–ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π"
fi

# –ü—É—à –≤ –≤–µ—Ç–∫—É new-version
echo "üöÄ –ü—É—à–∏–º –≤ –≤–µ—Ç–∫—É new-version..."
git push origin new-version 2>&1

if [ $? -eq 0 ]; then
    echo ""
    echo "‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—à–µ–Ω–æ!"
    echo "üì± Streamlit Cloud –æ–±–Ω–æ–≤–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 1-2 –º–∏–Ω—É—Ç—ã"
else
    echo ""
    echo "‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—É—à–µ"
    echo "üí° –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (—Å–º. –ù–ê–°–¢–†–û–ô–ö–ê_–ê–í–¢–û–ü–£–®–ê.md)"
fi
